<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Live Dashboard</title>
  <style>
    body {
      font-family: Arial, sans‑serif;
      background: white;
      color: black;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1, h2 { margin: 10px 0; }
    .section { margin: 20px 0; }
    .item { margin: 5px 0; }
    .link { text-decoration: none; color: #1a0dab; }
  </style>
</head>
<body>

  <h1>Live Dashboard</h1>

  <div class="section" id="newsSection">
    <h2>Latest News</h2>
    <div id="news"></div>
  </div>

  <div class="section" id="stocksSection">
    <h2>Stocks</h2>
    <div id="stocks"></div>
  </div>

<script>

// —––––––––––– NEWS (no key API) —–––––––––––
fetch('https://saurav.tech/NewsAPI/top-headlines/category/general/us.json')
  .then(response => response.json())
  .then(data => {
    const newsDiv = document.getElementById('news');
    if (data.articles && data.articles.length) {
      data.articles.slice(0, 5).forEach(article => {
        let a = document.createElement('a');
        a.href = article.url;
        a.textContent = article.title;
        a.target = "_blank";
        a.className = "link item";
        newsDiv.appendChild(a);
      });
    } else {
      newsDiv.textContent = 'Unable to load news.';
    }
  })
  .catch(err => {
    console.error(err);
    document.getElementById('news').textContent = 'Error loading news.';
  });

// —––––––––––– STOCKS (free browser API) —–––––––––––
fetch('https://api.marketdata.app/v1/quote?symbols=AAPL,TSLA,SPY')
  .then(response => response.json())
  .then(data => {
    const stocksDiv = document.getElementById('stocks');
    if (data && data.length) {
      data.forEach(stock => {
        let p = document.createElement('div');
        p.className = "item";
        p.textContent = `${stock.symbol}: $${stock.price ?? stock.close ?? 'N/A'}`;
        stocksDiv.appendChild(p);
      });
    } else {
      stocksDiv.textContent = 'Unable to load stock data.';
    }
  })
  .catch(err => {
    console.error(err);
    document.getElementById('stocks').textContent = 'Error loading stocks.';
  });

</script>

</body>
</html>
